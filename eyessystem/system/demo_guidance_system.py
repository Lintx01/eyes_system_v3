#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
é‰´åˆ«è¯Šæ–­æ™ºèƒ½æŒ‡å¯¼ç³»ç»Ÿæ¼”ç¤º
æ¨¡æ‹Ÿå­¦ç”Ÿçš„å­¦ä¹ è¿‡ç¨‹å’Œç³»ç»Ÿçš„æŒ‡å¯¼å“åº”
"""

import json


def simulate_diagnosis_attempts():
    """æ¨¡æ‹Ÿå­¦ç”Ÿè¯Šæ–­å°è¯•è¿‡ç¨‹"""
    
    print("ğŸ“ é‰´åˆ«è¯Šæ–­æ™ºèƒ½æŒ‡å¯¼ç³»ç»Ÿ - å­¦ä¹ æ¼”ç¤º")
    print("=" * 50)
    
    # æ¨¡æ‹Ÿæ¡ˆä¾‹æ•°æ®
    case_info = {
        'case_id': 'CC3676875A',
        'diagnosis': 'é«˜è¡€å‹æ€§è§†ç½‘è†œç—…å˜',
        'correct_diagnoses': ['ç³–å°¿ç—…è§†ç½‘è†œç—…å˜', 'è§†ç½‘è†œåŠ¨è„‰é˜»å¡', 'è§†ç½‘è†œåˆ†æ”¯é™è„‰é˜»å¡'],
        'available_options': [
            'ç³–å°¿ç—…è§†ç½‘è†œç—…å˜',
            'è§†ç½‘è†œåŠ¨è„‰é˜»å¡', 
            'è§†ç½‘è†œåˆ†æ”¯é™è„‰é˜»å¡',
            'é’å…‰çœ¼',
            'ç™½å†…éšœ',
            'é»„æ–‘å˜æ€§'
        ]
    }
    
    print(f"ğŸ“‹ æ¡ˆä¾‹ï¼š{case_info['case_id']} - {case_info['diagnosis']}")
    print(f"âœ… æ­£ç¡®é‰´åˆ«è¯Šæ–­ï¼š{', '.join(case_info['correct_diagnoses'])}")
    print(f"ğŸ” å¯é€‰è¯Šæ–­é€‰é¡¹ï¼š{', '.join(case_info['available_options'])}")
    print()
    
    # æ¨¡æ‹Ÿå­¦ç”Ÿå°è¯•
    attempts = [
        {
            'attempt': 1,
            'selected': ['ç³–å°¿ç—…è§†ç½‘è†œç—…å˜', 'é’å…‰çœ¼'],
            'feedback_level': 1,
            'feedback': 'æ‚¨é€‰æ‹©äº†1ä¸ªæ­£ç¡®è¯Šæ–­ï¼Œä½†è¿˜æœ‰2ä¸ªæ­£ç¡®è¯Šæ–­æœªé€‰æ‹©ï¼ŒåŒæ—¶é€‰æ‹©äº†1ä¸ªé”™è¯¯è¯Šæ–­ã€‚è¯·é‡æ–°æ€è€ƒå¹¶è°ƒæ•´æ‚¨çš„é€‰æ‹©ã€‚\n\nğŸ’¡ è½»åº¦æç¤ºï¼šè¯·ä»”ç»†å›é¡¾æ‚£è€…çš„ç—‡çŠ¶ã€ä½“å¾å’Œæ£€æŸ¥ç»“æœã€‚',
            'score': 0,
            'status': 'éœ€è¦é‡æ–°é€‰æ‹©'
        },
        {
            'attempt': 2,
            'selected': ['ç³–å°¿ç—…è§†ç½‘è†œç—…å˜', 'è§†ç½‘è†œåŠ¨è„‰é˜»å¡', 'ç™½å†…éšœ'],
            'feedback_level': 2,
            'feedback': 'æ‚¨é€‰æ‹©äº†2ä¸ªæ­£ç¡®è¯Šæ–­ï¼Œä½†è¿˜æœ‰1ä¸ªæ­£ç¡®è¯Šæ–­æœªé€‰æ‹©ï¼ŒåŒæ—¶é€‰æ‹©äº†1ä¸ªé”™è¯¯è¯Šæ–­ã€‚\n\nâš ï¸ ä¸­åº¦æç¤ºï¼š\nâ€¢ ç³–å°¿ç—…è§†ç½‘è†œç—…å˜: å¾®è¡€ç®¡ç˜¤ã€å‡ºè¡€ç‚¹å’Œæ¸—å‡ºç‰©æ˜¯å…¸å‹è¡¨ç°\nâ€¢ ç™½å†…éšœ: æ³¨æ„æ™¶çŠ¶ä½“çš„é€æ˜åº¦å˜åŒ–ï¼Œè¯¥æ‚£è€…ä¸»è¦è¡¨ç°ä¸ºè§†ç½‘è†œç—…å˜',
            'score': 0,
            'status': 'éœ€è¦é‡æ–°é€‰æ‹©'
        },
        {
            'attempt': 3,
            'selected': ['ç³–å°¿ç—…è§†ç½‘è†œç—…å˜', 'è§†ç½‘è†œåŠ¨è„‰é˜»å¡', 'è§†ç½‘è†œåˆ†æ”¯é™è„‰é˜»å¡'],
            'feedback_level': 0,
            'feedback': 'æ­å–œï¼æ‚¨çš„é‰´åˆ«è¯Šæ–­å®Œå…¨æ­£ç¡®ï¼ï¼ˆç¬¬3æ¬¡å°è¯•ï¼Œå¾—åˆ†ï¼š80åˆ†ï¼‰',
            'score': 80,
            'status': 'è¿›å…¥æ²»ç–—é˜¶æ®µ'
        }
    ]
    
    for attempt_data in attempts:
        print(f"ğŸ”„ ç¬¬{attempt_data['attempt']}æ¬¡å°è¯•")
        print("-" * 30)
        print(f"å­¦ç”Ÿé€‰æ‹©ï¼š{', '.join(attempt_data['selected'])}")
        print()
        print("ç³»ç»Ÿåé¦ˆï¼š")
        print(attempt_data['feedback'])
        print()
        print(f"ğŸ“Š å¾—åˆ†ï¼š{attempt_data['score']}åˆ†")
        print(f"ğŸ“Œ çŠ¶æ€ï¼š{attempt_data['status']}")
        
        if attempt_data['attempt'] < len(attempts):
            print()
            print("ğŸ”„ å­¦ç”Ÿå¯ä»¥é‡æ–°é€‰æ‹©...")
            print("=" * 50)
        else:
            print()
            print("ğŸ‰ å­¦ä¹ å®Œæˆï¼è¿›å…¥æ²»ç–—å†³ç­–é˜¶æ®µã€‚")
    
    print()
    print("ğŸ¯ æ™ºèƒ½æŒ‡å¯¼ç³»ç»Ÿç‰¹ç‚¹ï¼š")
    print("â€¢ ğŸ“ å¾ªåºæ¸è¿›ï¼šæ ¹æ®å°è¯•æ¬¡æ•°æä¾›ä¸åŒæ·±åº¦çš„æŒ‡å¯¼")
    print("â€¢ ğŸ”„ å…è®¸é‡è¯•ï¼šé¼“åŠ±å­¦ç”Ÿä»é”™è¯¯ä¸­å­¦ä¹ ")
    print("â€¢ ğŸ“Š åŠ¨æ€è¯„åˆ†ï¼šåŸºäºå°è¯•æ¬¡æ•°è°ƒæ•´æœ€ç»ˆå¾—åˆ†")
    print("â€¢ ğŸ’¡ ä¸ªæ€§åŒ–ï¼šé¿å…ç›´æ¥ç»™å‡ºç­”æ¡ˆï¼ŒåŸ¹å…»æ€ç»´èƒ½åŠ›")
    print()
    print("âœ¨ æ•™å­¦ç›®æ ‡è¾¾æˆï¼šå­¦ç”Ÿé€šè¿‡å¤šæ¬¡å°è¯•æŒæ¡æ­£ç¡®çš„è¯Šæ–­æ€è·¯ï¼")


def show_guidance_levels():
    """å±•ç¤ºä¸‰çº§æŒ‡å¯¼ä½“ç³»"""
    
    print("\nğŸ“š ä¸‰çº§æ™ºèƒ½æŒ‡å¯¼ä½“ç³»è¯¦è§£")
    print("=" * 40)
    
    levels = [
        {
            'level': 1,
            'name': 'è½»åº¦æç¤º',
            'color': 'ğŸŸ¢',
            'trigger': 'ç¬¬1æ¬¡é”™è¯¯',
            'purpose': 'å¼•å¯¼æ€è€ƒæ–¹å‘',
            'example': 'ç»“åˆæ‚£è€…çš„ç³–å°¿ç—…ç—…å²å’Œçœ¼åº•æ£€æŸ¥'
        },
        {
            'level': 2,
            'name': 'ä¸­åº¦æç¤º', 
            'color': 'ğŸŸ¡',
            'trigger': 'ç¬¬2æ¬¡é”™è¯¯',
            'purpose': 'æä¾›ä¸´åºŠç‰¹å¾',
            'example': 'å¾®è¡€ç®¡ç˜¤ã€å‡ºè¡€ç‚¹å’Œæ¸—å‡ºç‰©æ˜¯ç³–å°¿ç—…è§†ç½‘è†œç—…å˜çš„å…¸å‹è¡¨ç°'
        },
        {
            'level': 3,
            'name': 'å¼ºæç¤º',
            'color': 'ğŸ”´', 
            'trigger': 'ç¬¬3æ¬¡åŠä»¥ä¸Šé”™è¯¯',
            'purpose': 'è¯¦ç»†è¯Šæ–­ä¾æ®',
            'example': 'è¯¥æ‚£è€…æœ‰ç³–å°¿ç—…å²ï¼Œçœ¼åº•å¯è§å¾®è¡€ç®¡ç˜¤ã€å‡ºè¡€å’Œç¡¬æ€§æ¸—å‡ºï¼Œè¯Šæ–­ä¸ºç³–å°¿ç—…è§†ç½‘è†œç—…å˜'
        }
    ]
    
    for level_data in levels:
        print(f"{level_data['color']} **çº§åˆ«{level_data['level']} - {level_data['name']}**")
        print(f"   è§¦å‘æ¡ä»¶ï¼š{level_data['trigger']}")
        print(f"   æŒ‡å¯¼ç›®çš„ï¼š{level_data['purpose']}")
        print(f"   ç¤ºä¾‹å†…å®¹ï¼š{level_data['example']}")
        print()


if __name__ == '__main__':
    simulate_diagnosis_attempts()
    show_guidance_levels()
    
    print("ğŸš€ ç³»ç»Ÿç°å·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥ä¸ºå­¦ç”Ÿæä¾›æ™ºèƒ½è¯Šæ–­æŒ‡å¯¼ï¼")